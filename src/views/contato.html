<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contato - TrashFlow</title>
    <link rel="stylesheet" href="./public/css/contato.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div id="home" class="container">
        <header>
            <div class="logo">
                <img src="./public/TrashflowLogo 2.png" alt="Trashflow Logo">
            </div>
            <div class="navbar">
                <ul>
                    <li>Quem somos</li>
                    <li>Ideias de Reciclagem</li>
                    <li>Empresas cadastradas</li>
                    <li>Contato</li>
                </ul>
            </div>

            <div class="user-menu-container">
                <div class="user-icon-wrapper">
                    <svg width="56" height="56" viewBox="0 0 36 36" fill="#4a9c0d" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M29.3,33.8h-2,0s-20.6,0-20.6,0c-1.4,0-2.6-.5-3.5-1.5-.8-.9-1.1-2.1-1-3.3l.2-1.3c.3-1.9,2-3.4,4.3-4l11.4-1.9h0s10.9,1.9,10.9,1.9c2.5.6,4,2,4.4,3.9l.2,1.3c.2,1.2-.2,2.4-1,3.3-.8,1-2.1,1.5-3.5,1.5ZM18,23.2l-10.9,1.9c-1.3.3-2.9,1.2-3.1,2.7l-.2,1.3c-.1.8.1,1.5.6,2.1.6.6,1.4,1,2.4,1h22.9c.8,0,1.5-.4,2-1,.5-.6.7-1.3.6-2.1l-.2-1.3c-.3-1.8-2.3-2.5-3.2-2.7l-10.9-1.9ZM18,18.8c-2.2,0-4.3-.9-5.8-2.4s-2.4-3.6-2.4-5.8.9-4.3,2.4-5.8c1.6-1.6,3.6-2.4,5.8-2.4s4.3.9,5.8,2.4c1.6,1.6,2.4,3.6,2.4,5.8s-.9,4.3-2.4,5.8c-1.6,1.6-3.6,2.4-5.8,2.4ZM18,3.8c-1.8,0-3.5.7-4.8,2-1.3,1.3-2,3-2,4.8s.7,3.5,2,4.8,3,2,4.8,2,3.5-.7,4.8-2c1.3-1.3,2-3,2-4.8s-.7-3.5-2-4.8c-1.3-1.3-3-2-4.8-2Z" />
                    </svg>
                </div>
                <div class="user-dropdown">
                    <div class="dropdown-item" data-action="login">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Entrar</span>
                    </div>
                    <div class="dropdown-item" data-action="cadastro">
                        <i class="fas fa-user-plus"></i>
                        <span>Cadastrar</span>
                    </div>
                    <div class="dropdown-item" data-action="perfil">
                        <i class="fas fa-user"></i>
                        <span>Meu perfil</span>
                    </div>
                    <div class="dropdown-item" data-action="logout">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Deslogar</span>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <!-- Hero Section -->
            <section class="contact-hero">
                <div class="hero-content">
                    <h1>Fale Conosco</h1>
                    <p>Estamos aqui para responder suas dúvidas, ouvir suas sugestões e ajudar no que for preciso.</p>
                </div>
            </section>

            <!-- Contact Info -->
            <section class="contact-info">
                <div class="info-container">
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <h3>Email</h3>
                        <p>contato@trashflow.com.br</p>
                        <a href="mailto:contato@trashflow.com.br" class="info-link">Enviar mensagem <i
                                class="fas fa-arrow-right"></i></a>
                    </div>

                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <h3>Telefone</h3>
                        <p>(11) 98765-4321</p>
                        <a href="tel:+5511987654321" class="info-link">Ligar agora <i
                                class="fas fa-arrow-right"></i></a>
                    </div>

                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <h3>Endereço</h3>
                        <p>Rua Sustentabilidade, 123<br>São Paulo - SP</p>
                        <a href="https://maps.google.com" target="_blank" class="info-link">Ver no mapa <i
                                class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </section>

            <!-- Contact Form -->
            <section class="contact-form-section">
                <div class="form-container">
                    <div class="form-content">
                        <h2>Envie sua mensagem</h2>
                        <p>Preencha o formulário abaixo e entraremos em contato o mais rápido possível.</p>

                        <form class="contact-form">
                            <div class="form-group">
                                <label for="name">Nome completo</label>
                                <input type="text" id="name" name="name" required>
                            </div>

                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" required>
                            </div>

                            <div class="form-group">
                                <label for="subject">Assunto</label>
                                <select id="subject" name="subject">
                                    <option value="duvida">Dúvida</option>
                                    <option value="sugestao">Sugestão</option>
                                    <option value="parceria">Parceria</option>
                                    <option value="outro">Outro</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="message">Mensagem</label>
                                <textarea id="message" name="message" rows="5" required></textarea>
                            </div>

                            <button type="submit" class="submit-btn">Enviar mensagem</button>
                        </form>
                    </div>

                    <div class="form-image">
                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                            alt="Equipe TrashFlow">
                    </div>
                </div>
            </section>

            <!-- FAQ Section -->
            <section class="contact-faq">
                <div class="faq-container">
                    <h2>Perguntas frequentes</h2>

                    <div class="faq-item">
                        <button class="faq-question">
                            Quanto tempo leva para receber uma resposta?
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Nossa equipe normalmente responde em até 24 horas úteis. Caso sua demanda seja urgente,
                                recomendamos entrar em contato por telefone.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question">
                            Vocês fazem parcerias com empresas?
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Sim, estamos sempre abertos a novas parcerias com empresas que compartilham nossos
                                valores de sustentabilidade. Entre em contato pelo formulário ou email selecionando a
                                opção "Parceria".</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <button class="faq-question">
                            Como posso contribuir com ideias de reciclagem?
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer">
                            <p>Você pode enviar suas ideias pelo formulário de contato selecionando "Sugestão" no campo
                                assunto. Adoramos receber novas ideias da comunidade!</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="site-footer">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="./public/TrashflowLogo 2.png" alt="Trashflow Logo" width="120">
                    <p>Transformando resíduos em oportunidades desde 2020.</p>
                </div>
                <div class="footer-links">
                    <h4>Links Rápidos</h4>
                    <ul>
                        <li><a href="#">Quem somos</a></li>
                        <li><a href="#">Ideias de Reciclagem</a></li>
                        <li><a href="#">Empresas cadastradas</a></li>
                        <li><a href="#">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Contato</h4>
                    <p><i class="fas fa-envelope"></i> contato@trashflow.com.br</p>
                    <p><i class="fas fa-phone"></i> (11) 98765-4321</p>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Trashflow. Todos os direitos reservados.</p>
            </div>
        </footer>
    </div>

    <script>
        
        document.querySelector('.logo').addEventListener('click', () => {
            window.location.href = "/";
        })
        // Navegação do menu
        const listItems = document.getElementsByTagName('li');
        for (let i = 0; i < listItems.length; i++) {
            listItems[i].addEventListener('click', function (event) {
                const text = event.target.textContent;
                if (text === "Quem somos") {
                    window.location.href = "/sobre";
                } else if (text === "Ideias de Reciclagem") {
                    window.location.href = "/cadastroideia";
                } else if (text === "Empresas cadastradas") {
                    window.location.href = "/cadastroempresa";
                } else if (text === "Contato") {
                    window.location.href = "/contato";
                }
            });
        }

        // Navegação do dropdown
        document.getElementById("options").addEventListener("change", async function () {
            const valor = this.value;

            if (valor === "login") {
                window.location.href = "/login";
            } else if (valor === "cadastro") {
                window.location.href = "/cadastrar";
            } else if (valor === "logout") {
                window.location.href = "/logout";
            } else if (valor === "perfil") {
                try {
                    const resposta = await fetch('/obterusuario');
                    if (resposta.ok) {
                        window.location.href = "/perfil"; // ou /usuario, depende da sua rota
                    } else {
                        window.location.href = "/login";
                    }
                } catch (erro) {
                    console.error("Erro ao verificar autenticação:", erro);
                    window.location.href = "/login";
                }
            }
        });

        // FAQ Accordion
        const faqQuestions = document.querySelectorAll('.faq-question');
        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                const icon = question.querySelector('i');

                // Toggle answer
                if (answer.style.maxHeight) {
                    answer.style.maxHeight = null;
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                } else {
                    answer.style.maxHeight = answer.scrollHeight + 'px';
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                }
            });
        });

        // Form submission
        const contactForm = document.querySelector('.contact-form');
        contactForm.addEventListener('submit', function (e) {
            e.preventDefault();
            // Simulação de envio
            alert('Mensagem enviada com sucesso! Entraremos em contato em breve.');
            this.reset();
        });
        // ===== MENU DO USUÁRIO - MÓDULO REUTILIZÁVEL =====
        const userIcon = document.querySelector('.user-icon-wrapper');
        const userDropdown = document.querySelector('.user-dropdown');

        // Abrir/fechar dropdown
        userIcon.addEventListener('click', function (e) {
            e.stopPropagation();
            userDropdown.classList.toggle('active');
        });

        // Fechar dropdown ao clicar fora
        document.addEventListener('click', function () {
            userDropdown.classList.remove('active');
        });

        // Prevenir fechamento ao clicar dentro do dropdown
        userDropdown.addEventListener('click', function (e) {
            e.stopPropagation();
        });

        // Ações do dropdown
        document.querySelectorAll('.dropdown-item').forEach(item => {
            item.addEventListener('click', async function () {
                const action = this.getAttribute('data-action');

                if (action === "login") {
                    window.location.href = "/login";
                } else if (action === "cadastro") {
                    window.location.href = "/cadastrar";
                } else if (action === "logout") {
                    window.location.href = "/logout";
                } else if (action === "perfil") {
                    try {
                        const resposta = await fetch('/obterusuario');
                        if (resposta.ok) {
                            window.location.href = "/perfil";
                        } else {
                            window.location.href = "/login";
                        }
                    } catch (erro) {
                        console.error("Erro ao verificar autenticação:", erro);
                        window.location.href = "/login";
                    }
                }

                // Fechar dropdown após seleção
                userDropdown.classList.remove('active');
            });
        });

        
    </script>
</body>

</html>